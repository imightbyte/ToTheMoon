<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rocket to the Moon</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
            touch-action: none; /* Prevent default touch behaviors */
            user-select: none; /* Disable text selection */
            -webkit-user-select: none; /* Safari */
            -moz-user-select: none; /* Firefox */
            -ms-user-select: none; /* IE/Edge */
        }

        .sky {
            position: relative;
            width: 100%;
            height: 100vh;
            background: linear-gradient(to bottom, #0a0a23, #1b1b4f);
            overflow: hidden;
        }

        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 200%;
            background: transparent;
            background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100"><circle cx="10" cy="10" r="1" fill="white" /><circle cx="50" cy="50" r="1.5" fill="white" /><circle cx="80" cy="20" r="1" fill="white" /><circle cx="30" cy="70" r="1.2" fill="white" /></svg>');
            background-size: 100px 100px;
            transition: transform 0.5s ease;
        }

        .moon {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #f0f0f0 60%, #a0a0a0);
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
            transition: width 0.5s ease, height 0.5s ease;
        }

        .rocket {
            position: absolute;
            bottom: 100px; /* Increased from 20px to 100px to move the rocket higher up */
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 100px;
            transition: transform 0.5s ease;
            z-index: 10; /* Ensure rocket is on top */
        }

        .rocket-inner {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .rocket-body {
            position: absolute;
            top: 40px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 60px;
            background: #d3d3d3; /* Rocket body */
        }

        .rocket-nose {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 30px solid transparent;
            border-right: 30px solid transparent;
            border-bottom: 40px solid #ff4d4d; /* Rocket nose */
        }

        .rocket-fin-left {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 0;
            border-top: 20px solid transparent;
            border-bottom: 20px solid transparent;
            border-right: 20px solid #ff4d4d; /* Left fin */
        }

        .rocket-fin-right {
            position: absolute;
            bottom: 0;
            right: 0;
            width: 0;
            height: 0;
            border-top: 20px solid transparent;
            border-bottom: 20px solid transparent;
            border-left: 20px solid #ff4d4d; /* Right fin */
        }

        .rocket-inner.charging {
            animation: shake 0.1s infinite;
        }

        @keyframes shake {
            0% { transform: translateY(0); }
            50% { transform: translateY(-2px); }
            100% { transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div class="sky">
        <div class="stars"></div>
        <div class="moon"></div>
        <div class="rocket">
            <div class="rocket-inner">
                <div class="rocket-nose"></div>
                <div class="rocket-body"></div>
                <div class="rocket-fin-left"></div>
                <div class="rocket-fin-right"></div>
            </div>
        </div>
    </div>
    <script>
        const rocket = document.querySelector('.rocket');
        const rocketInner = document.querySelector('.rocket-inner');
        const stars = document.querySelector('.stars');
        const moon = document.querySelector('.moon');
        let swipeCount = 0;
        let isCharging = false;
        let isCharged = false;
        let touchStartTime = 0;
        let touchStartY = 0;
        let starsOffset = 0;
        let moonSize = 80;

        // Prevent context menu on long press
        rocket.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });

        rocket.addEventListener('touchstart', (e) => {
            e.preventDefault(); // Prevent default browser actions
            touchStartTime = Date.now();
            touchStartY = e.touches[0].clientY;
            isCharging = true;
            isCharged = false;
            rocketInner.classList.add('charging');
            setTimeout(() => {
                if (isCharging) {
                    isCharged = true;
                    // You can add visual feedback for charged state if needed
                }
            }, 1000);
        });

        rocket.addEventListener('touchmove', (e) => {
            e.preventDefault(); // Prevent default browser actions
            if (!isCharging) return;
            const touchY = e.touches[0].clientY;
            const deltaY = touchStartY - touchY;

            if (deltaY > 50 && isCharged) {
                // Swipe up detected after charging
                swipeCount++;
                isCharging = false;
                isCharged = false;
                rocketInner.classList.remove('charging');

                // Update stars position (move up to simulate stars moving down)
                starsOffset -= (window.innerHeight / 3); // Negative to move container up, stars down
                stars.style.transform = `translateY(${starsOffset}px)`;

                // Enlarge moon
                moonSize += 40;
                moon.style.width = `${moonSize}px`;
                moon.style.height = `${moonSize}px`;

                // Move rocket up
                const rocketMove = swipeCount * (window.innerHeight / 4); // Adjust for screen
                rocket.style.transform = `translateX(-50%) translateY(-${rocketMove}px)`;

                // Check if rocket reached the moon
                if (swipeCount >= 3) {
                    alert('Rocket has reached the moon!');
                    // Reset game
                    swipeCount = 0;
                    starsOffset = 0;
                    moonSize = 80;
                    stars.style.transform = `translateY(0px)`;
                    moon.style.width = `80px`;
                    moon.style.height = `80px`;
                    rocket.style.transform = `translateX(-50%) translateY(0px)`;
                }
            }
        });

        rocket.addEventListener('touchend', () => {
            isCharging = false;
            rocketInner.classList.remove('charging');
        });
    </script>
</body>
</html>
